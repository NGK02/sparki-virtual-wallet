@model VirtualWallet.Dto.ViewModels.CardViewModels.CreateCardViewModel

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://unpkg.com/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
    <!-- <link rel="stylesheet" href="./assets/styles/styles.css" /> -->
    <script defer src="https://unpkg.com/alpinejs@3.2.2/dist/cdn.min.js"></script>
</head>

<body class="bg-blue-50">
    <div class="m-4 h-screen flex items-center justify-center">
        <div class="credit-card w-full sm:w-auto shadow-lg mx-auto rounded-xl bg-white" x-data="creditCard">
            <header class="flex flex-col justify-center items-center">
                <div class="relative"
                     x-show="card === 'front'"
                     x-transition:enter="transition ease-out duration-300"
                     x-transition:enter-start="opacity-0 transform scale-90"
                     x-transition:enter-end="opacity-100 transform scale-100">
                    <img class="w-full h-auto" src="https://www.computop-paygate.com/Templates/imagesaboutYou_desktop/images/svg-cards/card-visa-front.png"
                         alt="front credit card">
                    <div class="front bg-transparent text-lg w-full text-white px-12 absolute left-0 bottom-12">
                        <p class="number mb-5 sm:text-xl" x-text="cardNumber !== '' ? cardNumber : '0000 0000 0000 0000'"></p>
                        <div class="flex flex-row justify-between">
                            <p x-text="cardholder !== '' ? cardholder : 'Card holder'"></p>
                            <div class="">
                                <span x-text="expired.month"></span>
                                <span x-show="expired.month !== ''">/</span>
                                <span x-text="expired.year"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="relative"
                     x-show="card === 'back'"
                     x-transition:enter="transition ease-out duration-300"
                     x-transition:enter-start="opacity-0 transform scale-90"
                     x-transition:enter-end="opacity-100 transform scale-100">
                    <img class="w-full h-auto" src="https://www.computop-paygate.com/Templates/imagesaboutYou_desktop/images/svg-cards/card-visa-back.png"
                         alt="">
                    <div class="bg-transparent text-white text-xl w-full flex justify-end absolute bottom-20 px-8  sm:bottom-24 right-0 sm:px-12">
                        <div class="border border-white w-16 h-9 flex justify-center items-center">
                            <p x-text="securityCode !== '' ? securityCode : 'code'"></p>
                        </div>
                    </div>
                </div>

                <ul class="flex">
                    <li class="mx-2">
                        <img class="w-16" src="https://www.computop-paygate.com/Templates/imagesaboutYou_desktop/images/computop.png" alt="" />
                    </li>
                    <li class="mx-2">
                        <img class="w-14" src="https://www.computop-paygate.com/Templates/imagesaboutYou_desktop/images/verified-by-visa.png" alt="" />
                    </li>
                    <li class="ml-5">
                        <img class="w-7" src="https://www.computop-paygate.com/Templates/imagesaboutYou_desktop/images/mastercard-id-check.png" alt="" />
                    </li>
                </ul>
            </header>

            <main class="h-full flex items-center justify-center">
                <form method="post" asp-action="Create" asp-controller="Card" class="flex mx-auto justify-center w-80 px-8 py-8 bg-neutral-100 rounded-3xl shadow-2xl border-purple-400 border flex-col justify-center items-center inline-flex dark:bg-neutral-800 dark:border-puerple-400">
                    <div class="mb-4 text-center text-gray-900 text-3xl font-extrabold dark:text-white">Card details</div>

                    <div class="w-full mb-4 flex-col justify-start items-start flex">
                        <input type="text" class="w-full px-3 py-2 bg-neutral-200 rounded-md outline-1 justify-start items-center inline-flex dark:bg-neutral-700 dark:text-white focus:outline focus:outline-purple-400"
                               placeholder="Card holder" maxlength="30" x-model="cardholder" asp-for="CardHolder" />

                        <div class="text-sm font-normal text-red-600 leading-tight">
                            <span asp-validation-for="CardHolder"></span>
                        </div>
                    </div>

                    <div class="w-full mb-4 flex-col justify-start items-start flex">
                        <input type="text" class="w-full px-3 py-2 bg-neutral-200 rounded-md outline-1 justify-start items-center inline-flex dark:bg-neutral-700 dark:text-white focus:outline focus:outline-purple-400"
                               placeholder="Card number" maxlength="16" x-model="cardNumber" asp-for="CardNumber" />

                        <div class="text-sm font-normal text-red-600 leading-tight">
                            <span asp-validation-for="CardNumber"></span>
                        </div>
                    </div>

                    <div class="w-full mb-4 flex-col justify-start items-start flex">
                        <div class="text-gray-700 text-xs font-medium dark:text-neutral-400">Expiry date</div>

                        <div class="grid grid-cols-2 sm:grid-cols-4 gap-2">
                            <div class="col-span-1 sm:col-span-2">
                                <input type="text" name="expirationMonth"
                                       class="form-input appearance-none block w-full px-3 py-2 bg-neutral-200 rounded-md outline-1 justify-start items-center inline-flex dark:bg-neutral-700 dark:text-white focus:outline focus:outline-purple-400"
                                       placeholder="MM" x-model="expired.month" asp-for="ExpirationMonth" />

                                <div class="text-sm font-normal text-red-600 leading-tight">
                                    <span asp-validation-for="ExpirationMonth"></span>
                                </div>
                            </div>

                            <div class="col-span-1 sm:col-span-2">
                                <input type="text" name="expirationYear"
                                       class="form-input appearance-none block w-full px-3 py-2 bg-neutral-200 rounded-md outline-1 justify-start items-center inline-flex dark:bg-neutral-700 dark:text-white focus:outline focus:outline-purple-400"
                                       placeholder="YYYY" x-model="expired.year" asp-for="ExpirationYear" />

                                <div class="text-sm font-normal text-red-600 leading-tight">
                                    <span asp-validation-for="ExpirationYear"></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="w-full mb-4 flex-col justify-start items-start flex">
                        <div class="grid grid-cols-2 sm:grid-cols-4 gap-2">
                            <div class="col-span-1 sm:col-span-2">
                                <input type="text" class="block w-full px-3 py-2 bg-neutral-200 rounded-md outline-1 justify-start items-center inline-flex dark:bg-neutral-700 dark:text-white focus:outline focus:outline-purple-400"
                                       placeholder="Security code" maxlength="3" x-model="securityCode" x-on:focus="card = 'back'"
                                       x-on:blur="card = 'front'" asp-for="CheckNumber" />

                                <div class="text-sm font-normal text-red-600 leading-tight">
                                    <span asp-validation-for="CheckNumber"></span>
                                </div>
                            </div>

                            <div class="col-span-1 sm:col-span-2">
                                <input type="text" class="block w-full px-3 py-2 bg-neutral-200 rounded-md outline-1 justify-start items-center inline-flex dark:bg-neutral-700 dark:text-white focus:outline focus:outline-purple-400"
                                       placeholder="Currency" maxlength="3" x-model="currency" asp-for="CurrencyCode" />

                                <div class="text-sm font-normal text-red-600 leading-tight">
                                    <span asp-validation-for="CurrencyCode"></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="w-full px-4 py-4 bg-purple-500 rounded-md shadow justify-center items-center inline-flex hover:bg-purple-400 transition duration-300">
                        <div class="text-white text-sm font-medium">Add card</div>
                    </button>
                </form>
            </main>
        </div>
    </div>

    <script>
        document.addEventListener("alpine:init", () => {
            Alpine.data("creditCard", () => ({
                init() {
                    console.log('Component mounted');
                },
                card: 'front',
                cardholder: '',
                cardNumber: '',
                expired: {
                    month: '',
                    year: '',
                },
                securityCode: '',
            }));
        });
    </script>
</body>